{% extends "login/base.html" %} {% block navbar %}
<header
  class="relative flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-white text-sm py-3 dark:bg-neutral-800"
>
  <nav
    class="max-w-[85rem] w-full mx-auto px-4 sm:flex sm:items-center sm:justify-between"
  >
    <!-- Logo Section -->
    <div class="flex items-center justify-between">
      <a
        class="flex-none text-xl font-semibold dark:text-white focus:outline-none focus:opacity-80"
        href="#"
        aria-label="Brand"
      >
        <span
          class="inline-flex items-center gap-x-2 text-xl font-semibold dark:text-white"
        >
          Guide Me There
        </span>
      </a>
      <!-- Mobile Menu Toggle Button -->
      <div class="sm:hidden">
        <button
          type="button"
          class="relative size-7 flex justify-center items-center gap-x-2 rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50 dark:bg-transparent dark:border-neutral-700 dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10"
          id="mobile-menu-button"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <!-- Hamburger Icon -->
          <svg
            id="menu-open-icon"
            class="block size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="3" x2="21" y1="6" y2="6" />
            <line x1="3" x2="21" y1="12" y2="12" />
            <line x1="3" x2="21" y1="18" y2="18" />
          </svg>
          <!-- Close Icon -->
          <svg
            id="menu-close-icon"
            class="hidden size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
          <span class="sr-only">Toggle navigation</span>
        </button>
      </div>
    </div>

    <!-- Navigation Links -->
    <div
      id="mobile-menu"
      class="hidden sm:flex flex-col sm:flex-row sm:items-center sm:justify-end mt-5 sm:mt-0 sm:ps-5"
    >
      <a
        class="font-medium text-blue-500 focus:outline-none"
        href="#"
        aria-current="page"
        >Landing</a
      >
      <a
        class="font-medium text-gray-600 hover:text-gray-400 focus:outline-none dark:text-neutral-400 dark:hover:text-neutral-500"
        href="#"
        >Account</a
      >
      <a
        class="font-medium text-gray-600 hover:text-gray-400 focus:outline-none dark:text-neutral-400 dark:hover:text-neutral-500"
        href="#"
        >Work</a
      >
      <a
        class="font-medium text-gray-600 hover:text-gray-400 focus:outline-none dark:text-neutral-400 dark:hover:text-neutral-500"
        href="#"
        >Blog</a
      >
    </div>
  </nav>
</header>

<!-- JavaScript to Toggle the Menu -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const menuButton = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");
    const menuOpenIcon = document.getElementById("menu-open-icon");
    const menuCloseIcon = document.getElementById("menu-close-icon");

    menuButton.addEventListener("click", function () {
      const isExpanded = menuButton.getAttribute("aria-expanded") === "true";

      // Toggle menu visibility
      mobileMenu.classList.toggle("hidden");

      // Toggle icons
      menuOpenIcon.classList.toggle("hidden");
      menuCloseIcon.classList.toggle("hidden");

      // Update aria-expanded attribute
      menuButton.setAttribute("aria-expanded", !isExpanded);
    });
  });
</script>
{% endblock navbar %} {% block content %} {% if user.is_authenticated %}
<form method="post" action="{% url 'logout' %}">
  {% csrf_token %}
  <button type="submit">Logout</button>
</form>
{% else %}
<a href="{% url 'login' %}">Login</a>
{% endif %}

<hr />
<!-- Page heading -->
<h1>My To Do List</h1>
<a href="{% url 'task-create' %}"> add new item</a>
<!-- Table to display the list of tasks -->
<table>
  <tr>
    <!-- Table headers for better readability -->
    <th>Items</th>
    <th>Actions</th>
  </tr>

  <!-- Loop through the tasks passed from the view -->
  {% for task in tasks %}
  <tr>
    <!-- Display the task title -->
    <td>{{ task.title }}</td>

    <!-- Link to view the details of a specific task -->
    <td>
      <a href="{% url 'task' task.id %}">View</a>
    </td>
    <td>
      <a href="{% url 'task-update' task.id %}">Update</a>
    </td>
    <td>
      <a href="{% url 'task-delete' task.id %}">delete</a>
    </td>
  </tr>
  {% empty %}
  <!-- Message displayed if no tasks are found -->
  <tr>
    <td colspan="2">
      <h3>No items</h3>
    </td>
  </tr>
  {% endfor %}
</table>
{% endblock content %}
